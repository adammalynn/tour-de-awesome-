function buildCharts() {

  var colorlist = ['#56dd3b','#3ad8bb','#3ba5e2','#3956db','#6639db',
  '#9f38e0','#da36e2','#93226d','#701339','#510811','#443536','#1c1919']
  // Fetch the sample data for the plots
  var url = `/speeds`;
  console.log(url)
  d3.json(url, function(response) {

/*=========Build a box plot ==============*/
var trace1 = {
  y: [45.7627, 45.7627, 45.7627, 45.7627, 45.7627, 45.7627, 45.7627, 45.7627, 45.7627, 45.7627, 45.7627, 45.7627, 45.7627, 45.7627, 45.7627, 45.7627, 45.7627, 45.7627, 45.7627, 45.7627, 45.7627, 45.7627, 45.7627, 45.7627, 45.7627, 45.7627, 45.7627, 45.7627, 45.7627, 45.7627, 45.7627, 45.7627, 45.7627, 45.7627, 45.7627, 45.7627, 45.7627, 45.7627, 45.7627, 45.7627, 45.7627, 45.7627, 45.7627, 45.7627, 45.7627, 45.7627, 45.7627, 45.7627, 45.7627, 45.7627, 45.7627, 45.7627, 45.7627, 45.7627, 45.7627, 45.7627, 45.7627, 45.7627, 45.7627, 45.7627, 45.7627, 45.7627, 45.7627, 45.6991, 45.6934, 45.6934, 45.6703, 45.6674, 45.6645, 45.6645, 45.6472, 45.6415, 45.6415, 45.6415, 45.6415, 45.6415, 45.6415, 45.6415, 45.6415, 45.6415, 45.6415, 45.6415, 45.6156, 45.6156, 45.6156, 45.6156, 45.6156, 45.6156, 45.6156, 45.6156, 45.6156, 45.6156, 45.6156, 45.6156, 45.6156, 45.6156, 45.6156, 45.6156, 45.6156, 45.6156, 45.6156, 45.6156, 45.6156, 45.584, 45.5782, 45.5782, 45.5782, 45.5553, 45.5553, 45.5495, 45.5467, 45.5467, 45.5467, 45.5409, 45.5381, 45.5381, 45.5381, 45.5381, 45.5381, 45.5266, 45.5266, 45.5123, 45.5123, 45.5037, 45.5037, 45.5037, 45.4808, 45.4408, 45.418, 45.3867, 45.3725, 45.3725, 45.3639, 45.3639, 45.3497, 45.3497, 45.3497, 45.3497, 45.3497, 45.3497, 45.3497, 45.3497, 45.3497, 45.3497, 45.3497, 45.3497, 45.3497, 45.3497, 45.3497, 45.3497, 45.2986, 45.2929, 45.2929, 45.2929, 45.2816, 45.2476, 45.242, 45.242, 45.242, 45.242, 45.242, 45.242, 45.242, 45.2137, 45.0673, 45.0673, 45.0673, 45.0673, 45.0673, 45.0673, 45.0673, 44.6805, 44.6805, 44.6805, 44.4472, 44.4417],
  type: 'box',
  name: 'Wiskers and Outliers',
  marker: {
    color: 'rgb(107,174,214)'
  },
  boxpoints: 'Outliers'
};
var trace2 = {
  y: [44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.5225, 44.2266, 44.2266, 44.5225, 44.2266, 44.5225, 44.2029, 44.2029, 44.5225, 44.0905, 44.0905, 44.0905, 44.0905, 44.0905, 44.0905, 44.0905, 44.0905, 44.0905, 44.0905, 44.0905, 44.0905, 44.0905, 44.0905, 44.0905, 44.0905, 44.0905, 44.0905, 44.0905, 44.0905, 44.0905, 44.0905, 44.5225, 44.0905, 44.0905, 44.0905, 44.0669, 43.9786, 43.9376, 43.9376, 43.9376, 43.9376, 43.9288, 44.5225, 43.8586, 43.8061, 43.8061, 43.8061, 43.8061, 43.7828, 43.7741, 44.5225, 44.5225, 44.5225, 43.7218, 44.5225, 43.5858, 43.4135, 43.1095],
  type: 'box',
  name: 'Wiskers and Outliers',
  marker: {
    color: 'rgb(107,174,214)'
  },
  boxpoints: 'Outliers'
};
var trace3 = {
  y:[55.718, 55.718, 55.718, 55.718, 55.718, 55.718, 55.718, 55.718, 55.6223, 55.6223, 55.6223, 55.6223, 55.6223, 55.6223, 55.6223, 55.6223, 55.5508, 55.5508, 55.5508, 55.5508, 55.5508, 55.5508, 55.5508, 55.5508, 55.5032, 55.5032, 55.5032, 55.5032, 55.5032, 55.5032, 55.5032, 55.5032, 55.4557, 55.4557, 55.4557, 55.4557, 55.4557, 55.4557, 55.4557, 55.4557, 54.892, 54.892, 54.892, 54.892, 54.892, 54.892, 54.892, 54.892, 54.5455, 54.5455, 54.5455, 54.5455, 54.5455, 54.5455, 54.5455, 54.5455, 54.5225, 54.5225, 54.5225, 54.5225, 54.5225, 54.5225, 54.5225, 54.4996, 54.4996, 54.4996, 54.4996, 54.4996, 54.4996, 54.4996, 54.4996, 54.4767, 54.4767, 54.4767, 54.4767, 54.4767, 54.4767, 54.4767, 54.4767, 54.1806, 54.1806, 54.1806, 54.1806, 54.1806, 54.1806, 54.1806, 54.1806, 53.9775, 53.9775, 53.9775, 53.9775, 53.9775, 53.9775, 53.9775, 53.9775, 53.9775, 53.9775, 53.9775, 53.9775, 53.9775, 53.9775, 53.9775, 53.9775, 53.955, 53.955, 53.955, 53.955, 53.955, 53.955, 53.955, 53.4653, 53.4653, 53.4653, 53.4653, 53.4653, 53.4653, 53.4653, 53.4653, 53.3773, 53.3773, 53.3773, 53.3773, 53.3773, 53.3773, 53.3773, 53.3773, 53.2895, 53.2895, 53.2895, 53.2895, 53.2895, 53.2895, 53.2895, 53.2895, 53.1801, 53.1801, 53.1801, 53.1801, 53.1801, 53.1801, 53.1801, 53.1801, 53.1583, 53.1583, 53.1583, 53.1583, 53.1583, 53.1583, 53.1583, 53.1583, 53.1583, 53.1583, 53.1583, 53.1583, 53.1583, 53.1583, 53.1583, 53.1583, 52.4696, 52.4696, 52.4696, 52.4696, 52.4696, 52.4696, 52.4696, 52.4696, 51.2456, 51.2456, 51.2456, 51.2456, 51.2456, 51.2456, 51.2456, 51.2456],
  type: 'box',
  name: 'Wiskers and Outliers',
  marker: {
    color: 'rgb(107,174,214)'
  },
  boxpoints: 'Outliers'
};
    var data1 = [trace1, trace2, trace3];
    var layout1 = {
      title: 'Rider Speeds',
      xaxis:{title:"Stage"},
      yaxis:{title:"Speed (kph)"},
      showlegend: false,
      autoscale: true,
      margin: { t: 0 },
      hovermode: "closest",
    };

    Plotly.newPlot("box", data1, layout1, {responsive: true});

  });
}
//
function init() {
    buildCharts();


}
init();
